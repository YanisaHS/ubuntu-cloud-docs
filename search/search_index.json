{"config":{"lang":["en"],"separator":"[^\\w]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"WELCOME","text":"<p>Welcome to the Canonical Public Clouds Documentation. This site contains documentation related to Canonical offerings in the major clouds, as supported by the Canonical Public Cloud team. This includes information about supported Ubuntu versions and Canonical specific offerings.</p> <p>This site is laid out following Diataxis. The cloud directories are placed at the highest level. Under clouds (AWS, Azure, Google, Oracle, IBM, Canonical-Downloads) are products (EC2, EKS, GCE, GKE, etc.) and under products are the for documentations categories. Documentation is found at a corresponding level. Thus</p> <ul> <li>a reference describing AWS EKS is in AWS/EKS/reference</li> <li>a reference describing Canonical's general work on AWS is in AWS/reference</li> <li>a reference that describes something common to all clouds is in general/reference</li> <li>explanation of how to use the site is here, at the top level.</li> </ul>"},{"location":"index.html#contribution","title":"Contribution","text":"<p>If you would like to contribute to this site, please visit see our Github. Pull requests and issues are welcome!</p>"},{"location":"AWS/EC2/index.html","title":"EC2","text":""},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html","title":"Upgrading from Focal to Jammy on AWS EC2","text":""},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#general-advice","title":"General Advice","text":"<p>When deciding how to upgrade the main consideration is whether your system can be setup/deployed with automation or requires manual configuration.</p> <p>Running <code>do-release-upgrade</code> requires some manual intervention (see Manual upgrade steps), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed.</p> <p>For system deployments which are fully automated it is recommended to redeploy with new Jammy instances instead of upgrading from Focal.</p>"},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#manual-upgrade-steps","title":"Manual upgrade steps","text":"<p>If you are upgrading from Focal to Jammy you can expect to run into the following prompts requesting manual input.</p>"},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#additional-ssh-daemon","title":"Additional SSH daemon","text":"<p>When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk an additional SSH daemon is started on a different port as a backup. </p>"},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#optional-firewall-rules-for-additional-ssh-daemon","title":"Optional firewall rules for additional SSH daemon","text":"<p>If you are using a firewall there is a chance the port used by the backup SSHD is not open. Opening this port is not done automatically since it could be security risk. </p>"},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#start-upgrade","title":"Start upgrade","text":"<p>A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided because once you start the upgrade process it cannot be cancelled. </p>"},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#restart-services-automatically","title":"Restart services automatically","text":"<p>Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted. </p>"},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#sshd-configuration-modified","title":"SSHD configuration modified","text":"<p>Canonical makes changes to <code>/etc/ssh/sshd_config</code> for AWS EC2 images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action. </p>"},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#remove-obsolete-packages","title":"Remove obsolete packages","text":"<p>An obsolete package is a package which is no longer available in any of the sources for Apt. Usually it is safe and recommended to remove obsolete packages but you can verify which packages would be removed before doing so. </p>"},{"location":"AWS/EC2/explanations/Focal_To_Jammy_Upgrade.html#restart-to-finish-upgrade","title":"Restart to finish upgrade","text":"<p>A restart will be necessary for some parts of the upgrade to be applied. If you select no to the restart you can check <code>/var/run/reboot-required.pkgs</code> to see which things need a reboot to be applied. </p>"},{"location":"AWS/EKS/index.html","title":"EKS","text":""},{"location":"AWS/EKS/reference/retention-policy.html","title":"EKS image retention policy","text":"<p>There are multiple EKS images for every EKS version (eg. 1.23, 1.24, ...). When a EKS version is no longer supported by AWS, all the images except the latest released one for that unsupported EKS version will be deleted on the Canonical AWS account.</p>"},{"location":"AWS/EKS/reference/retention-policy.html#example","title":"Example","text":"<p>Let's assume there are currently these images under the Canonical AWS account:</p> <pre><code>ubuntu-eks/k8s_1.24/images/hvm-ssd/ubuntu-focal-20.04-arm64-server-20221214\nubuntu-eks/k8s_1.24/images/hvm-ssd/ubuntu-focal-20.04-arm64-server-20221206.1\nubuntu-eks/k8s_1.23/images/hvm-ssd/ubuntu-focal-20.04-arm64-server-20221214\nubuntu-eks/k8s_1.23/images/hvm-ssd/ubuntu-focal-20.04-arm64-server-20221011\nubuntu-eks/k8s_1.23/images/hvm-ssd/ubuntu-focal-20.04-arm64-server-20220822.2\n</code></pre> <p>Now EKS 1.23 is no longer supported. That would result in deleting the following 2 images:</p> <pre><code>ubuntu-eks/k8s_1.23/images/hvm-ssd/ubuntu-focal-20.04-arm64-server-20221011\nubuntu-eks/k8s_1.23/images/hvm-ssd/ubuntu-focal-20.04-arm64-server-20220822.2\n</code></pre> <p>but the single latest image <code>ubuntu-eks/k8s_1.23/images/hvm-ssd/ubuntu-focal-20.04-arm64-server-20221214</code> would still be there.</p>"},{"location":"Azure/index.html","title":"Azure","text":""},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html","title":"Upgrading from Focal to Jammy on Azure","text":""},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#general-advice","title":"General Advice","text":"<p>When deciding how to upgrade the main consideration is whether your system can be setup/deployed with automation or requires manual configuration.</p> <p>Running <code>do-release-upgrade</code> requires some manual intervention (see Manual upgrade steps), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed.</p> <p>For system deployments which are fully automated it is recommended to redeploy with new Jammy instances instead of upgrading from Focal.</p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#manual-upgrade-steps","title":"Manual upgrade steps","text":"<p>If you are upgrading from Focal to Jammy you can expect to run into the following prompts requesting manual input.</p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#additional-ssh-daemon","title":"Additional SSH daemon","text":"<p>When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk an additional SSH daemon is started on a different port as a backup. </p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#optional-firewall-rules-for-additional-ssh-daemon","title":"Optional firewall rules for additional SSH daemon","text":"<p>If you are using a firewall there is a chance the port used by the backup SSHD is not open. Opening this port is not done automatically since it could be security risk. </p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#start-upgrade","title":"Start upgrade","text":"<p>A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided because once you start the upgrade process it cannot be cancelled. </p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#restart-services-automatically","title":"Restart services automatically","text":"<p>Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted. </p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#chrony-configuration-modified","title":"Chrony configuration modified","text":"<p>Canonical makes changes to <code>/etc/chrony/chrony.conf</code> for Azure images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action. </p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#sshd-configuration-modified","title":"SSHD configuration modified","text":"<p>Canonical makes changes to <code>/etc/ssh/sshd_config</code> for Azure images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action. </p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#remove-obsolete-packages","title":"Remove obsolete packages","text":"<p>An obsolete package is a package which is no longer available in any of the sources for Apt. Usually it is safe and recommended to remove obsolete packages but you can verify which packages would be removed before doing so. </p>"},{"location":"Azure/explanations/Focal_To_Jammy_Upgrade.html#restart-to-finish-upgrade","title":"Restart to finish upgrade","text":"<p>A restart will be necessary for some parts of the upgrade to be applied. If you select no to the restart you can check <code>/var/run/reboot-required.pkgs</code> to see which things need a reboot to be applied. </p>"},{"location":"Azure/how_tos/Find_Images.html","title":"Find Ubuntu images on Azure","text":""},{"location":"Azure/how_tos/Find_Images.html#latest-images","title":"Latest images","text":""},{"location":"Azure/how_tos/Find_Images.html#free-long-term-support-offers","title":"Free Long Term Support offers","text":"<p>To learn more about LTS versions of Ubuntu read this article.</p>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-2204-lts-jammy-jellyfish","title":"Ubuntu 22.04 LTS - Jammy Jellyfish","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-server-jammy:22_04-lts:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-server-jammy:22_04-lts-gen2:latest</code> Architecture: Arm64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-server-jammy:22_04-lts-arm64:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-2004-lts-focal-fossa","title":"Ubuntu 20.04 LTS - Focal Fossa","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-server-focal:20_04-lts:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-server-focal:20_04-lts-gen2:latest</code> Architecture: Arm64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-server-focal:20_04-lts-arm64:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-1804-lts-bionic-beaver","title":"Ubuntu 18.04 LTS - Bionic Beaver","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:UbuntuServer:18.04-LTS:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:UbuntuServer:18_04-lts-gen2:latest</code> Architecture: Arm64Hyper-V Generation: Gen2 <code>Canonical:UbuntuServer:18_04-lts-arm64:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#interim-releases","title":"Interim releases","text":"<p>To learn more about the difference between LTS releases and interim releases, see this page.</p>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-2210-kinetic-kudu","title":"Ubuntu 22.10 - Kinetic Kudu","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-server-kinetic:22_10:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-server-kinetic:22_10-gen2:latest</code> Architecture: Arm64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-server-kinetic:22_10-arm64:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-offers","title":"Ubuntu Pro Offers","text":"<p>To learn more about Ubuntu Pro on Azure: Ubuntu Pro for Azure</p>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-2204-lts-jammy-jellyfish","title":"Ubuntu Pro 22.04 LTS - Jammy Jellyfish","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-pro-jammy:pro-22_04-lts:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-pro-jammy:pro-22_04-lts-gen2:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-2004-lts-focal-fossa","title":"Ubuntu Pro 20.04 LTS - Focal Fossa","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-pro-focal:pro-20_04-lts:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-pro-focal:pro-20_04-lts-gen2:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-1804-lts-bionic-beaver","title":"Ubuntu Pro 18.04 LTS - Bionic Beaver","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-pro-bionic:pro-18_04-lts:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-pro-bionic:pro-18_04-lts-gen2:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#confidential-compute-capable-offer","title":"Confidential Compute capable offer","text":"<p>To learn more about Confidential Compute: Azure confidential computing</p>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-cvm-2004-lts-focal-fossa","title":"Ubuntu CVM 20.04 LTS - Focal Fossa","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-confidential-vm-focal:20_04-lts-cvm:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#fips-compliant-offers","title":"FIPS compliant offers","text":"<p>To learn more about FIPS: FIPS for Ubuntu</p>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-fips-2004-lts-focal-fossa","title":"Ubuntu Pro FIPS 20.04 LTS - Focal Fossa","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-pro-focal-fips:pro-fips-20_04:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-pro-focal-fips:pro-fips-20_04-gen2:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-pro-fips-1804-lts-bionic-beaver","title":"Ubuntu Pro FIPS 18.04 LTS - Bionic Beaver","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-pro-bionic-fips:pro-fips-18_04:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-pro-bionic-fips:pro-fips-18_04-gen2:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#cis-hardened-offer","title":"CIS Hardened offer","text":"<p>To learn more about CIS compliance: CIS compliance with Ubuntu LTS</p>"},{"location":"Azure/how_tos/Find_Images.html#ubuntu-minimal-pro-cis-2004-lts-focal-fossa","title":"Ubuntu Minimal Pro CIS 20.04 LTS - Focal Fossa","text":"<p>Quick Start: portal.azure.com</p> Kind URN Architecture: AMD64Hyper-V Generation: Gen1 <code>Canonical:0001-com-ubuntu-pro-minimal-cis-focal:pro-cis-minimal-20_04:latest</code> Architecture: AMD64Hyper-V Generation: Gen2 <code>Canonical:0001-com-ubuntu-pro-minimal-cis-focal:pro-cis-minimal-20_04-gen2:latest</code>"},{"location":"Azure/how_tos/Find_Images.html#list-all-images-published-by-canonical","title":"List all images published by Canonical","text":"<p>Canonical publishes Ubuntu images under the <code>Canonical</code> publisher ID. One can find all our images using this <code>az</code> command:</p> <pre><code>az vm image list -p Canonical --all -o table\n</code></pre> <p>Via the Portal, make sure to look for <code>Canonical</code> rather than <code>Ubuntu</code> to find the official Ubuntu images. Also, always make sure the offer is published by Canonical. Non-Pro LTS offers are always FREE.</p>"},{"location":"Azure/how_tos/Install_Azure_CLI.html","title":"Install Azure CLI on Ubuntu","text":"<p>This documentation is based on the official Azure documentation.</p> <p>Install a few pre-requisites:</p> <pre><code>sudo apt-get update\nsudo apt-get install ca-certificates curl apt-transport-https lsb-release gnupg\n</code></pre> <p>Download the key for the Microsoft archive:</p> <pre><code>curl -sL https://packages.microsoft.com/keys/microsoft.asc |\n    gpg --dearmor |\n        sudo tee /etc/apt/trusted.gpg.d/microsoft.gpg &gt; /dev/null\n</code></pre> <p>Add the repository to the sources list:</p> <pre><code>SUITE=$(lsb_release -cs)\necho \"deb [arch=amd64] https://packages.microsoft.com/repos/azure-cli/ $SUITE main\" |\n    sudo tee /etc/apt/sources.list.d/microsoft.list\n</code></pre> <p>Pin a few rules to only allow the Azure CLI to be fetch from Microsoft's archive:</p> <pre><code>cat &lt;&lt; EOF | sudo tee /etc/apt/preferences.d/99-microsoft\n# Never prefer packages from the Microsoft repository\nPackage: *\nPin: origin https://packages.microsoft.com/repos/azure-cli\nPin-Priority: 1\n\n# ...except if it is the Azure CLI\nPackage: azure-cli\nPin: origin https://packages.microsoft.com/repos/azure-cli\nPin-Priority: 500\nEOF\n</code></pre> <p>Finally, install the CLI:</p> <pre><code>sudo apt-get update &amp;&amp; \\\n     sudo apt-get install -y azure-cli\n</code></pre>"},{"location":"Azure/reference/Confidential_Trusted.html","title":"Trusted Launch and Confidential VM","text":"<p>Azure provides two security types:</p> <ul> <li>Trusted Launch which is a set of features including vTPM and Secure Boot</li> <li>Confidential VM with support for AMD SEV-SNP, along with measured boot using a vTPM</li> </ul>"},{"location":"Azure/reference/Confidential_Trusted.html#trusted-launch","title":"Trusted Launch","text":"<p>All Ubuntu images from 20.04 (Focal Fossa) support Trusted Launch and secure boot on Hyper-V Gen2 instances. One can start an instance of Ubuntu with secure boot enabled and a vTPM with the Azure CLI by using the following flags: <code>--security-type TrustedLaunch --enable-secure-boot true --enable-vtpm</code>.</p>"},{"location":"Azure/reference/Confidential_Trusted.html#confidential-vm","title":"Confidential VM","text":""},{"location":"Azure/reference/Confidential_Trusted.html#use-confidential-vm-on-ubuntu","title":"Use Confidential VM on Ubuntu","text":"<p>Confidential VM require the use a special instance sizes and a special version of Ubuntu.</p> <ul> <li>the list of instance sizes that can be used with Confidential VM can be found in Azure's documentation</li> <li>only this specific offer of Ubuntu supports Confidential VM</li> </ul>"},{"location":"Azure/reference/Confidential_Trusted.html#what-is-it","title":"What is it?","text":"<p>See our techincal blog post about Confidential VM.</p> <p>In short, Confidential VM is the combination of two features:</p> <ul> <li>Memory encryption: the memory of the virtual machine is encrypted and decrypted on the fly by the CPU. This is done using AMD SEV-SNP technology. This ensures that the host machine cannot read the memory of the guest since the encryption is done at the hardware level</li> <li>(v)TPM backed Full-disk encryption (FDE): not only the file system of the guest OS is encrypted at rest but the keys are stored in an enclave and cannot be retrieved unless the boot process stayed untouched since the key was sealed. Re-sealing happen when a new kernel is installed as replacing the kernel binary changes the boot sequence. The vTPM is part of the guest VM and its address space. As such, it benefits from the same run-time security guarantees as the guest VM memory.</li> </ul> <p>It's important to note that memory encryption is always enabled with Confidential VM, but FDE is optional and require explicit activation on VM provisioning.</p>"},{"location":"Canonical-Downloads/index.html","title":"Canonical-Downloads","text":""},{"location":"Google/GCE/index.html","title":"GCE","text":""},{"location":"Google/GCE/explanations/index.html","title":"GCE","text":""},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html","title":"Upgrading from Focal Fossa to Jammy Jellyfish on GCE","text":""},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#general-advice","title":"General Advice","text":"<p>When deciding how to upgrade an image, a main consideration should be whether the system can be setup or deployed with automation, or whether it requires manual configuration.</p> <p>Running <code>do-release-upgrade</code> currently requires some manual intervention (see Manual upgrade steps), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed.</p> <p>For system deployments which are fully automated, it is recommended to redeploy with a new Jammy Jellyfish instances instead of upgrading from Focal Fossa.</p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#manual-upgrade-steps","title":"Manual upgrade steps","text":"<p>If the workflow is to upgrade from Focal Fossa to Jammy Jellyfish, the following prompts requesting manual input should be expected.</p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#additional-ssh-daemon","title":"Additional SSH daemon","text":"<p>When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk, an additional SSH daemon is started on a different port as a backup. </p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#optional-firewall-rules-for-additional-ssh-daemon","title":"Optional firewall rules for additional SSH daemon","text":"<p>If a firewall is present, there is a chance the port used by the backup <code>sshd</code> is not open. Opening this port is not done automatically as it is a security risk. </p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#start-upgrade","title":"Start upgrade","text":"<p>A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided. Once you start the upgrade process it cannot be cancelled. </p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#restart-services-automatically","title":"Restart services automatically","text":"<p>Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted. </p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#sshd-configuration-modified","title":"<code>sshd</code> configuration modified","text":"<p>Canonical makes changes to <code>/etc/ssh/sshd_config</code> for GCE images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version, or take some other action. </p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#chrony-configuration-modified","title":"<code>chrony</code> configuration modified","text":"<p>Due to a possible bug in <code>ucf</code>, even if there are no changes in <code>/etc/chrony/chrony.conf</code> there will be a prompt asking whether to keep the current version, use the default in the newer version, or take some other action. </p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#remove-obsolete-packages","title":"Remove obsolete packages","text":"<p>An obsolete package is a package which is no longer available in any of the sources for <code>apt</code>. Usually it is safe and recommended to remove these packages, but the option to verify which packages are to be removed is available. </p>"},{"location":"Google/GCE/explanations/Focal_To_Jammy_Upgrade.html#restart-to-finish-upgrade","title":"Restart to finish upgrade","text":"<p>A restart will be necessary for some parts of the upgrade to be applied. If no is selected, <code>/var/run/reboot-required.pkgs</code> may be checked to see which services need rebooting to be applied. </p>"},{"location":"Google/GKE/index.html","title":"GKE","text":""},{"location":"IBM/IBM-Classic/index.html","title":"IBM-Classic","text":""},{"location":"IBM/IBM-VPC/index.html","title":"IBM-VPC","text":""},{"location":"Oracle/index.html","title":"Oracle","text":""},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html","title":"Upgrading from Focal to Jammy on Oracle","text":""},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#general-advice","title":"General Advice","text":"<p>When deciding how to upgrade the main consideration is whether your system can be setup/deployed with automation or requires manual configuration.</p> <p>Running <code>do-release-upgrade</code> requires some manual intervention (see Manual upgrade steps), which makes it a good option for systems which require manual configuration and cannot be easily created or destroyed.</p> <p>For system deployments which are fully automated it is recommended to redeploy with new Jammy instances instead of upgrading from Focal.</p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#manual-upgrade-steps","title":"Manual upgrade steps","text":"<p>If you are upgrading from Focal to Jammy you can expect to run into the following prompts requesting manual input.</p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#additional-ssh-daemon","title":"Additional SSH daemon","text":"<p>When upgrading in a session over SSH there is an inherent risk of losing access if something goes wrong with the SSH daemon. To mitigate this risk an additional SSH daemon is started on a different port as a backup. </p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#optional-firewall-rules-for-additional-ssh-daemon","title":"Optional firewall rules for additional SSH daemon","text":"<p>If you are using a firewall there is a chance the port used by the backup SSHD is not open. Opening this port is not done automatically since it could be security risk. </p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#start-upgrade","title":"Start upgrade","text":"<p>A final prompt before starting the upgrade. Information regarding the amount of changes and estimated time are provided because once you start the upgrade process it cannot be cancelled. </p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#restart-services-automatically","title":"Restart services automatically","text":"<p>Some services need to be restarted when certain libraries are upgraded. The user has the option to allow the system to automatically restart these services or to be asked after every library upgrade which services they want to be restarted. </p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#iptables-configuration-modified","title":"Iptables configuration modified","text":"<p>Canonical makes changes to <code>/etc/iptables/rules.v4</code> and <code>/etc/iptables/rules.v6</code> for Oracle images. As a result when upgrading there will be a prompt asking whether to save current IPv4 and IPv6 rules even if no user changes were made. If additional changes to iptables rules were made, selecting <code>Yes</code> is recommended if preserving those added rules is desired.  Selecting <code>No</code> will use the prexisting persistent <code>rules.v4</code> and <code>rules.v6</code> which contain the Canonical changes, unless previously modified.  </p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#sshd-configuration-modified","title":"SSHD configuration modified","text":"<p>Canonical makes changes to <code>/etc/ssh/sshd_config</code> for Oracle images. As a result when upgrading there will be a prompt asking whether to keep this version, use the default in the newer version or take some other action. </p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#remove-obsolete-packages","title":"Remove obsolete packages","text":"<p>An obsolete package is a package which is no longer available in any of the sources for Apt. Usually it is safe and recommended to remove obsolete packages but you can verify which packages would be removed before doing so. </p>"},{"location":"Oracle/explanations/Focal_To_Jammy_Upgrade.html#restart-to-finish-upgrade","title":"Restart to finish upgrade","text":"<p>A restart will be necessary for some parts of the upgrade to be applied. If you select no to the restart you can check <code>/var/run/reboot-required.pkgs</code> to see which things need a reboot to be applied. </p>"},{"location":"general/index.html","title":"General","text":""}]}